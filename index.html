<!DOCTYPE html>
<html>
  <head>
  	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>myWare</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	<link rel = "stylesheet" type = "text/css" href = "index.css" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<script src="http://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="crossorigin="anonymous">
	</script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
</head>


<body>

<div class="jumbotron text-center">
	<h1><span class="typing"></span></h1>
</div>

<!-- animated header -->
<script src="jquery-3.4.1.min.js"></script>
<script src="typed.min.js"></script>
<script type="text/javascript">

var typed = new Typed('.typing', {strings: ["Need an Idea?", "Give an Idea", "Create an Idea", "Share an Idea"],loop:true,typeSpeed:100,backSpeed:40,});

</script>

<!-- social media icons -->
<div class="leftside">
	<ul>
		<li> <a href="https://www.facebook.com/sharer.php" target="_blank" title="facebook"><i class="fa fa-facebook"></i></a></li>
		<li> <a href="http://twitter.com" target="_blank" title="twitter"><i class="fa fa-twitter"></i></a></li>
		<li> <a href="http://instagram.com" target="_blank" title="instagram"><i class="fa fa-instagram"></i></a></li>
		<li> <a href="http://reddit.com" target="_blank" title="reddit"><i class="fa fa-reddit"></i></a></li>
	</ul>
</div>
<!-- left side margins -->
<style type="text/css">
	*{
		padding: 0px;
		margin:0px;
	}
</style>

<!-- buttons -->
<section id = "dual-button">
	<div class="column">
		<div style= "text-align: center;">

			<button class="button" onclick="retrieve()"><b>Get Idea</b></button>
		</div>

		<div style= "text-align: center;">
			<button class="button" onclick="onButtonClick()"><b>Give Idea</b></button>
			
			<br>
			<br>
			<input class="hide" type="text" placeholder="Enter idea here..." id="ideaInput" value="" />
			<button class="hide" id="button2"><b>Submit</b> </button>
		</div>
	</div>
</section>
	<p id="appIdea" value="Reset"></p>
	
	<script>
	function onButtonClick(){
	  document.getElementById('ideaInput').className="show";
	  document.getElementById('button2').className="show";
	}
	</script>
	<script >
	
		function retrieve(){
		
			const appIdea = document.querySelector("#appIdea");
			appIdea.innerHTML = null;

			var counter = Math.floor(Math.random() * 41); //number of docs in database
			var docRef = db.collection("myIdeas").doc(counter.toString());

			docRef.get().then(function(doc) {
    			if (doc.exists) {
    				appIdea.innerHTML = null;

        			console.log("counter " + counter);
        			appIdea.innerHTML += "<div align='center' class ='appIdea'><h3> App Name: " + doc.data().Idea + "<br><br>" + doc.data().Description+ "</h3></div>";
    			} else {
        			// doc.data() will be undefined in this case
        			console.log("No such document!");
    			}
			}).catch(function(error) {
    				console.log("Error getting document:", error);
			});
			// var counter = Math.floor(Math.random() * 27) + 0; //27 is number of docs in database

			// db.collection("Ideas").get().then(function(querySnapshot) {
			// 	querySnapshot.forEach(function(doc) {
			// 	// doc.data() is never undefined for query doc snapshots
			// 	if (doc.data().count == counter){
			// 		//console.log(counter);					
			// 		appIdea.innerHTML += "<div align='center' class ='appIdea'><h3> App Name: " + doc.data().Idea + "<br>" + doc.data().Description+ "</h3></div>";
			// 	}
			// 	});
			// });
		}
	</script>
	


  <!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->

  <!-- Add Firebase products that you want to use -->
<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.6.0/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/7.6.0/firebase-analytics.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.6.0/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.6.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.6.0/firebase-database.js"></script>

<script>

  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyApbpDVs_AK8P7JWk34dayYZR84agdHEk4",
    authDomain: "myware-f1442.firebaseapp.com",
    databaseURL: "https://myware-f1442.firebaseio.com",
    projectId: "myware-f1442",
    storageBucket: "myware-f1442.appspot.com",
    messagingSenderId: "841014183410",
    appId: "1:841014183410:web:1c2c62be29048e64fad76b",
    measurementId: "G-1GXJKW94Y8"
  };
  // Initialize Firebase
  var app = firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore(app);   

</script>
   

</body>


<script>
function openForm() {
	document.getElementById('name').className="show";
	document.getElementById('email').className="show";
	document.getElementById('feedback').className="show";
	document.getElementById('button3').className="show";
	document.getElementById('button4').className="show";
}

</script>

<footer class="footer">

	<div class="contactButton">
		<button class="open-button" onclick="openForm()">Contact</button>
	</div>
	
	<form class="form-popup" method="post" action="feedbackSubmission.php">
		<input class="hide" type="Name" placeholder="Enter Name" id="name" required>
		<input class="hide" type="Email" placeholder="Your Email" id="email" required>
		<input class="hide" type="text" placeholder="Feedback?" id="feedback" value=""  />
		<button class="hide" type="submit" name="send" class="btn" id="button3">Send</button>
		<button class="hide" type="reset" class="btn" id="button4">Reset</button>
	</form>

	</div>
	<div id="copyright" style="color:white;">Copyright @2019 All rights reserved</div>

</div>
</html>